<ns-action-bar [title]="presentationTitle"></ns-action-bar>
<GridLayout>
    <StackLayout visibility="{{ loading ? 'visible' : 'collapsed' }}" verticalAlignment="center">
        <ActivityIndicator class="m-t-20" rowSpan="3" busy="true"></ActivityIndicator>
    </StackLayout>
    <StackLayout *ngIf="!loading && presentation && speakers">
        <ScrollView height="100%">
            <StackLayout class="p-x-10">
                <StackLayout>
                    <Label [text]="presentation.title" class="h3 m-y-10" textWrap="true"></Label>
                    <Label
                    [text]="getStartTime(presentation.start) + concatRoom(presentation.room)"
                    class="text m-y-10"
                    textWrap="true"
                    ></Label>
                    <Label *ngIf="!isFormattedAbstractAvailable" [text]="presentation.abstract" class="body m-y-10" textWrap="true"></Label>
                    <HtmlView *ngIf="isFormattedAbstractAvailable" nsFixHtmlView [html]="presentation.formatted_abstract" class="body m-y-10 htmlview"></HtmlView>
                </StackLayout>
                <StackLayout *ngIf="isUrl(presentation.slides)">
                    <Button (tap)="onShowSlides(presentation.slides)" class="btn btn-primary" text="Slides anschauen"></Button>
                </StackLayout>
                <StackLayout *ngIf="!loading && speakers && speakers.length > 0" class="m-x-10 m-b-20">
                    <Label text="Speakers" class="h3"></Label>
                    <StackLayout *ngFor="let sp of speakers">
                        <GridLayout class="list-group-item" rows="auto, *" columns="auto, *" (tap)="onSpeakerTap(sp.id)">
                            <Image
                            row="0"
                            col="0"
                            [src]="getPhotoUrlOfSpeaker(sp)"
                            class="img-circle"
                            rowSpan="2"
                            stretch="aspectFill">
                            </Image>
                            <Label
                            row="0"
                            col="1"
                            [text]="sp.first_name + ' ' + sp.last_name"
                            textWrap="true"
                            verticalAlignment="bottom"
                            class="list-group-item-heading"
                            ></Label>
                            <Label
                            row="1"
                            col="1"
                            [text]="sp.position"
                            textWrap="true"
                            class="list-group-item-text"
                            ></Label>
                        </GridLayout>
                    </StackLayout>
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </StackLayout>
    <FAB
    *ngIf="presentation && presentationStarted()"
    (tap)="onUserFeedbackTap($event)"
    icon="~/images/userFeedback.png"
    rippleColor="#f1f1f1"
    class="fab-button"
    ></FAB>
</GridLayout>